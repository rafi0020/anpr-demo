{"version":3,"file":"InspectorPage-C6pX1Kf9.js","sources":["../../src/pages/InspectorPage.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useANPRStore } from '@/store';\r\n\r\nconst InspectorPage: React.FC = () => {\r\n  const pipeline = useANPRStore((state) => state.pipeline);\r\n  const currentSession = useANPRStore((state) => state.currentSession);\r\n  const currentCandidates = useANPRStore((state) => state.currentCandidates);\r\n  const traceLogs = useANPRStore((state) => state.traceLogs);\r\n\r\n  const activeTracks = pipeline.tracks || [];\r\n  const recentLogs = traceLogs.slice(-20).reverse();\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\r\n          Pipeline Inspector\r\n        </h2>\r\n        <p className=\"text-gray-600 dark:text-gray-400\">\r\n          Deep dive into track sessions, OCR results, and validation decisions\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4 text-gray-900 dark:text-white\">Track Sessions</h3>\r\n          {activeTracks.length > 0 ? (\r\n            <div className=\"space-y-2\">\r\n              {activeTracks.map((track) => (\r\n                <div key={track.id} className=\"p-3 bg-gray-50 dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"font-medium text-gray-900 dark:text-white\">Track #{track.id}</span>\r\n                    <span className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                      {track.detections.length} frames\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\r\n                    Position: [{track.bbox[0].toFixed(0)}, {track.bbox[1].toFixed(0)}, {track.bbox[2].toFixed(0)}, {track.bbox[3].toFixed(0)}]\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-gray-500 dark:text-gray-400 text-center py-8\">\r\n              No active tracks. Play the demo video to see tracks.\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4 text-gray-900 dark:text-white\">OCR Analysis</h3>\r\n          {currentCandidates.length > 0 ? (\r\n            <div className=\"space-y-2\">\r\n              <div className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\r\n                Current OCR Candidates:\r\n              </div>\r\n              {currentCandidates.map((candidate, idx) => (\r\n                <div key={idx} className=\"p-2 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-800\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"font-mono text-sm text-gray-900 dark:text-white bengali-text\">\r\n                      {candidate.text}\r\n                    </span>\r\n                    <span className=\"text-xs text-gray-600 dark:text-gray-400\">\r\n                      {(candidate.conf * 100).toFixed(1)}%\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : currentSession ? (\r\n            <div className=\"text-blue-600 dark:text-blue-400 text-center py-8\">\r\n              Processing session for Track #{currentSession.trackId}...\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-gray-500 dark:text-gray-400 text-center py-8\">\r\n              OCR results will appear here when plates are detected\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Pipeline Logs */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4 text-gray-900 dark:text-white\">Recent Pipeline Logs</h3>\r\n        {recentLogs.length > 0 ? (\r\n          <div className=\"space-y-1 max-h-96 overflow-y-auto\">\r\n            {recentLogs.map((log, idx) => (\r\n              <div key={idx} className={`text-xs font-mono p-2 rounded ${\r\n                log.level === 'error' ? 'bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300' :\r\n                log.level === 'warn' ? 'bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-300' :\r\n                log.level === 'info' ? 'bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300' :\r\n                'bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300'\r\n              }`}>\r\n                <span className=\"font-semibold\">[{log.module}]</span> {log.message}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-gray-500 dark:text-gray-400 text-center py-8\">\r\n            No logs yet. Pipeline logs will appear here.\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InspectorPage;\r\n"],"names":["InspectorPage","pipeline","useANPRStore","state","currentSession","currentCandidates","traceLogs","activeTracks","recentLogs","jsxs","jsx","track","candidate","idx","log"],"mappings":"mHAGA,MAAMA,EAA0B,IAAM,CACpC,MAAMC,EAAWC,EAAcC,GAAUA,EAAM,QAAQ,EACjDC,EAAiBF,EAAcC,GAAUA,EAAM,cAAc,EAC7DE,EAAoBH,EAAcC,GAAUA,EAAM,iBAAiB,EACnEG,EAAYJ,EAAcC,GAAUA,EAAM,SAAS,EAEnDI,EAAeN,EAAS,QAAU,CAAA,EAClCO,EAAaF,EAAU,MAAM,GAAG,EAAE,QAAA,EAExC,OACEG,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAwD,SAAA,qBAEtE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,sEAAA,CAEhD,CAAA,EACF,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,2DAA2D,SAAA,iBAAc,EACtFH,EAAa,OAAS,EACrBG,EAAAA,IAAC,OAAI,UAAU,YACZ,SAAAH,EAAa,IAAKI,GACjBF,EAAAA,KAAC,MAAA,CAAmB,UAAU,sFAC5B,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,4CAA4C,SAAA,CAAA,UAAQE,EAAM,EAAA,EAAG,EAC7EF,EAAAA,KAAC,OAAA,CAAK,UAAU,2CACb,SAAA,CAAAE,EAAM,WAAW,OAAO,SAAA,CAAA,CAC3B,CAAA,EACF,EACAF,EAAAA,KAAC,MAAA,CAAI,UAAU,gDAAgD,SAAA,CAAA,cACjDE,EAAM,KAAK,CAAC,EAAE,QAAQ,CAAC,EAAE,KAAGA,EAAM,KAAK,CAAC,EAAE,QAAQ,CAAC,EAAE,KAAGA,EAAM,KAAK,CAAC,EAAE,QAAQ,CAAC,EAAE,KAAGA,EAAM,KAAK,CAAC,EAAE,QAAQ,CAAC,EAAE,GAAA,CAAA,CAC3H,CAAA,CAAA,EATQA,EAAM,EAUhB,CACD,CAAA,CACH,EAEAD,EAAAA,IAAC,MAAA,CAAI,UAAU,oDAAoD,SAAA,sDAAA,CAEnE,CAAA,EAEJ,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,kDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,2DAA2D,SAAA,eAAY,EACpFL,EAAkB,OAAS,EAC1BI,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,gDAAgD,SAAA,0BAE/D,EACCL,EAAkB,IAAI,CAACO,EAAWC,IACjCH,EAAAA,IAAC,MAAA,CAAc,UAAU,yFACvB,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,+DACb,SAAAE,EAAU,KACb,EACAH,EAAAA,KAAC,OAAA,CAAK,UAAU,2CACZ,SAAA,EAAAG,EAAU,KAAO,KAAK,QAAQ,CAAC,EAAE,GAAA,CAAA,CACrC,CAAA,CAAA,CACF,CAAA,EARQC,CASV,CACD,CAAA,CAAA,CACH,EACET,EACFK,EAAAA,KAAC,MAAA,CAAI,UAAU,oDAAoD,SAAA,CAAA,iCAClCL,EAAe,QAAQ,KAAA,CAAA,CACxD,EAEAM,EAAAA,IAAC,MAAA,CAAI,UAAU,oDAAoD,SAAA,uDAAA,CAEnE,CAAA,CAAA,CAEJ,CAAA,EACF,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,kDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,2DAA2D,SAAA,uBAAoB,EAC5FF,EAAW,OAAS,EACnBE,EAAAA,IAAC,MAAA,CAAI,UAAU,qCACZ,SAAAF,EAAW,IAAI,CAACM,EAAKD,IACpBJ,EAAAA,KAAC,MAAA,CAAc,UAAW,iCACxBK,EAAI,QAAU,QAAU,8DACxBA,EAAI,QAAU,OAAS,0EACvBA,EAAI,QAAU,OAAS,kEACvB,8DACF,GACE,SAAA,CAAAL,EAAAA,KAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,CAAA,IAAEK,EAAI,OAAO,GAAA,EAAC,EAAO,IAAEA,EAAI,OAAA,CAAA,EANnDD,CAOV,CACD,CAAA,CACH,QAEC,MAAA,CAAI,UAAU,oDAAoD,SAAA,8CAAA,CAEnE,CAAA,CAAA,CAEJ,CAAA,EACF,CAEJ"}